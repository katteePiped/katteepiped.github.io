{"version":3,"sources":["webpack:///./src/routes/Subscriptions.vue?1938","webpack:///src/routes/Subscriptions.vue","webpack:///./src/routes/Subscriptions.vue?9a34","webpack:///./src/routes/Subscriptions.vue","webpack:///./src/components/SubscriptionButton.vue?a6e6","webpack:///src/components/SubscriptionButton.vue","webpack:///./src/components/SubscriptionButton.vue?4798","webpack:///./src/components/SubscriptionButton.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","loaded","attrs","_l","chunk","chunkId","key","channel","name","url","avatar","_v","_s","id","staticRenderFns","components","data","methods","$store","getters","$router","replace","path","resp","dispatch","method","r","loadData","component","VCard","VCardActions","VCardTitle","VCol","VContainer","VImg","VProgressLinear","VRow","staticClass","on","subscribeHandler","subscribed","_e","props","showButtons","channelId","isAuthenticated","params","computed","checkStatus","watch","VBtn"],"mappings":"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","file":"js/chunk-59a47c4a.7ec73432.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loaded)?_c('v-progress-linear'):_c('v-container',{attrs:{\"fluid\":\"\"}},_vm._l((_vm.data),function(chunk,chunkId){return _c('v-row',{key:chunkId},_vm._l((chunk),function(channel){return _c('v-col',{key:channel.name,attrs:{\"md\":\"2\"}},[_c('v-card',{attrs:{\"min-height\":\"100%\",\"outlined\":\"\",\"link\":\"\",\"to\":channel.url}},[_c('v-img',{attrs:{\"src\":channel.avatar}}),_c('v-card-title',[_vm._v(_vm._s(channel.name))]),_c('v-card-actions',[_c('SubscriptionButton',{attrs:{\"channel-id\":channel.id}})],1)],1)],1)}),1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-progress-linear v-if=\"!loaded\" />\n  <v-container fluid v-else>\n    <v-row v-for=\"(chunk, chunkId) in data\" :key=\"chunkId\">\n      <v-col md=\"2\" v-for=\"channel in chunk\" :key=\"channel.name\">\n        <v-card min-height=\"100%\" outlined link :to=\"channel.url\">\n          <v-img :src=\"channel.avatar\" />\n          <v-card-title>{{ channel.name }}</v-card-title>\n          <v-card-actions>\n            <!-- Encapsulate into own item -->\n            <SubscriptionButton :channel-id=\"channel.id\" />\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { chunk as _chunk } from 'lodash-es'\n\nimport SubscriptionButton from '@/components/SubscriptionButton'\nimport { LibPiped } from '@/tools/libpiped'\n\nexport default {\n  name: 'Subscriptions',\n  components: { SubscriptionButton },\n  data: () => ({\n    loaded: false,\n    data: null\n  }),\n  methods: {\n    async loadData () {\n      if (!this.$store.getters['auth/isCurrentlyAuthenticated']) {\n        await this.$router.replace({\n          path: '/'\n        })\n        return\n      }\n      const resp = await this.$store.dispatch('auth/makeRequest', {\n        method: 'GET',\n        path: '/subscriptions'\n      })\n      this.loaded = true\n      this.data = _chunk(resp.map(r => {\n        r.id = LibPiped.determineVideoIdFromChannelURL(r.url)\n        return r\n      }), 6)\n    }\n  },\n  mounted () {\n    this.loadData()\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscriptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscriptions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Subscriptions.vue?vue&type=template&id=419bb862&\"\nimport script from \"./Subscriptions.vue?vue&type=script&lang=js&\"\nexport * from \"./Subscriptions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardActions,VCardTitle,VCol,VContainer,VImg,VProgressLinear,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showButtons)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.subscribeHandler}},[_vm._v(\" \"+_vm._s(_vm.subscribed ? 'Unsubscribe' : 'Subscribe')+\" \")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-btn\n    v-if=\"showButtons\" outlined color=\"primary\" @click=\"subscribeHandler\"\n    class=\"ml-2\"\n  >\n    {{ subscribed ? 'Unsubscribe' : 'Subscribe' }}\n  </v-btn>\n</template>\n\n<script>\nexport default {\n  props: ['channelId'],\n  data: () => ({\n    showButtons: false,\n    subscribed: false\n  }),\n\n  methods: {\n    async checkStatus () {\n      this.showButtons = false\n      if (!(this.channelId && this.isAuthenticated)) {\n        return\n      }\n\n      const resp = await this.$store.dispatch('auth/makeRequest', {\n        path: '/subscribed',\n        params: {\n          channelId: this.channelId\n        }\n      })\n\n      this.subscribed = resp.subscribed\n      this.showButtons = true\n    },\n\n    async subscribeHandler () {\n      await this.$store.dispatch('auth/makeRequest', {\n        method: 'POST',\n        path: (this.subscribed ? '/unsubscribe' : '/subscribe'),\n        data: {\n          channelId: this.channelId\n        }\n      })\n      this.subscribed = !this.subscribed\n    }\n  },\n  computed: {\n    isAuthenticated () {\n      return this.$store.getters['auth/isCurrentlyAuthenticated']\n    }\n  },\n  mounted () {\n    this.checkStatus()\n  },\n  watch: {\n    channelId: 'checkStatus',\n    isAuthenticated: 'checkStatus'\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscriptionButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscriptionButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubscriptionButton.vue?vue&type=template&id=9467f916&\"\nimport script from \"./SubscriptionButton.vue?vue&type=script&lang=js&\"\nexport * from \"./SubscriptionButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n"],"sourceRoot":""}