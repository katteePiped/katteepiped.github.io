(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59a47c4a"],{bb3c:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.loaded?s("v-container",{attrs:{fluid:""}},t._l(t.data,(function(a,e){return s("v-row",{key:e},t._l(a,(function(a){return s("v-col",{key:a.name,attrs:{md:"2"}},[s("v-card",{attrs:{"min-height":"100%",outlined:"",link:"",to:a.url}},[s("v-img",{attrs:{src:a.avatar}}),s("v-card-title",[t._v(t._s(a.name))]),s("v-card-actions",[s("SubscriptionButton",{attrs:{"channel-id":a.id}})],1)],1)],1)})),1)})),1):s("v-progress-linear")},n=[],i=(s("5319"),s("6419")),r=s("f4d4"),c=s("40d3"),u={name:"Subscriptions",components:{SubscriptionButton:r["a"]},data:()=>({loaded:!1,data:null}),methods:{async loadData(){if(!this.$store.getters["auth/isCurrentlyAuthenticated"])return void await this.$router.replace({path:"/"});const t=await this.$store.dispatch("auth/makeRequest",{method:"GET",path:"/subscriptions"});this.loaded=!0,this.data=Object(i["a"])(t.map(t=>(t.id=c["a"].determineVideoIdFromChannelURL(t.url),t)),6)}},mounted(){this.loadData()}},d=u,o=s("2877"),h=s("6544"),l=s.n(h),b=s("b0af"),p=s("99d9"),m=s("62ad"),v=s("a523"),w=s("adda"),f=s("8e36"),k=s("0fd9"),_=Object(o["a"])(d,e,n,!1,null,null,null);a["default"]=_.exports;l()(_,{VCard:b["a"],VCardActions:p["a"],VCardTitle:p["d"],VCol:m["a"],VContainer:v["a"],VImg:w["a"],VProgressLinear:f["a"],VRow:k["a"]})},f4d4:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.showButtons?s("v-btn",{staticClass:"ml-2",attrs:{outlined:"",color:"primary"},on:{click:t.subscribeHandler}},[t._v(" "+t._s(t.subscribed?"Unsubscribe":"Subscribe")+" ")]):t._e()},n=[],i={props:["channelId"],data:()=>({showButtons:!1,subscribed:!1}),methods:{async checkStatus(){if(this.showButtons=!1,!this.channelId||!this.isAuthenticated)return;const t=await this.$store.dispatch("auth/makeRequest",{path:"/subscribed",params:{channelId:this.channelId}});this.subscribed=t.subscribed,this.showButtons=!0},async subscribeHandler(){await this.$store.dispatch("auth/makeRequest",{method:"POST",path:this.subscribed?"/unsubscribe":"/subscribe",data:{channelId:this.channelId}}),this.subscribed=!this.subscribed}},computed:{isAuthenticated(){return this.$store.getters["auth/isCurrentlyAuthenticated"]}},mounted(){this.checkStatus()},watch:{channelId:"checkStatus",isAuthenticated:"checkStatus"}},r=i,c=s("2877"),u=s("6544"),d=s.n(u),o=s("8336"),h=Object(c["a"])(r,e,n,!1,null,null,null);a["a"]=h.exports;d()(h,{VBtn:o["a"]})}}]);
//# sourceMappingURL=chunk-59a47c4a.7ec73432.js.map